from typing import Optional

from ..Downloaders import IDownloader
from ..Parsers import IParser

class Source():
    def __init__(
        self,
        title: str,
        description: str,
        cooldown: int,
        payload: dict,
        downloader: IDownloader,
        parser: IParser
    ) -> None:
        self.title = title        
        self._description = description
        self._cooldown = cooldown
        self._payload = payload
        self._downloader = downloader
        self._parser = parser

    def download(
        self
    ) -> Optional[str]:
        content = self._downloader.download(
            payload=self._payload,
        )
        return content

    def parse(
        self,
        content: str
    ) -> Optional[dict]:
        parsed = self._parser.parse(
            content=content
        )
        return parsed